[gd_scene load_steps=17 format=3 uid="uid://cb5vpkwc2mhn3"]

[ext_resource type="Script" path="res://Scripts/Menu/MainMenu.gd" id="1_bnywg"]
[ext_resource type="Texture2D" uid="uid://bria0ksci2p0a" path="res://Assets/Sprites/bg/bg01.png" id="1_kgxbb"]
[ext_resource type="PackedScene" uid="uid://5rjlbqosjvt2" path="res://Scenes/Game/MainGame.tscn" id="2_fythm"]
[ext_resource type="Texture2D" uid="uid://brfhuohmm8tia" path="res://Assets/Sprites/volume-icon.svg" id="4_ueemu"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qebv7"]
bg_color = Color(0.290196, 0.447059, 0.823529, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_0b83h"]
bg_color = Color(0.14902, 0.627451, 0.972549, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
shadow_size = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_d4hmw"]
bg_color = Color(0.317647, 0.513726, 0.470588, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ks2fx"]
bg_color = Color(0, 0.713726, 0.996078, 1)
border_width_left = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(1, 1, 1, 1)
corner_detail = 15
shadow_color = Color(0, 0, 0, 0.160784)
shadow_size = 1
shadow_offset = Vector2(0, 2)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_baad8"]
bg_color = Color(0.509804, 0.552941, 0.980392, 1)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0.145098, 0.145098, 0.145098, 0.827451)
shadow_size = 7

[sub_resource type="Theme" id="Theme_wdnyx"]
Button/colors/font_color = Color(1, 1, 1, 1)
Button/styles/disabled = null
Button/styles/focus = null
Button/styles/hover = SubResource("StyleBoxFlat_qebv7")
Button/styles/normal = SubResource("StyleBoxFlat_0b83h")
Button/styles/pressed = SubResource("StyleBoxFlat_d4hmw")
MarginContainer/constants/margin_bottom = 0
MarginContainer/constants/margin_left = 0
MarginContainer/constants/margin_right = 0
MarginContainer/constants/margin_top = 0
Panel/styles/panel = SubResource("StyleBoxFlat_ks2fx")
PopupPanel/styles/panel = SubResource("StyleBoxFlat_baad8")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rwkxl"]
bg_color = Color(0, 0.713726, 0.996078, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(1, 1, 1, 1)
corner_detail = 15
shadow_color = Color(0, 0, 0, 0.160784)
shadow_size = 1
shadow_offset = Vector2(0, 2)

[sub_resource type="Theme" id="Theme_mb2x8"]
MarginContainer/constants/margin_bottom = 0
MarginContainer/constants/margin_left = 0
MarginContainer/constants/margin_right = 0
MarginContainer/constants/margin_top = 0
Panel/styles/panel = SubResource("StyleBoxFlat_rwkxl")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_q34b0"]
bg_color = Color(1, 1, 1, 0.443137)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_av2cg"]
bg_color = Color(0.203922, 0.203922, 0.203922, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
corner_radius_top_left = 20
corner_radius_top_right = 20
corner_radius_bottom_right = 20
corner_radius_bottom_left = 20
corner_detail = 20

[sub_resource type="Animation" id="Animation_8k6p7"]
resource_name = "fadeOut"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 1), Color(0, 0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_hieni"]
_data = {
"fadeOut": SubResource("Animation_8k6p7")
}

[node name="MainMenu" type="Node"]
script = ExtResource("1_bnywg")
MainGame = ExtResource("2_fythm")

[node name="UI" type="Control" parent="."]
process_mode = 3
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_wdnyx")

[node name="Background" type="TextureRect" parent="UI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_kgxbb")
expand_mode = 1

[node name="MenuItems" type="VBoxContainer" parent="UI"]
layout_mode = 0
offset_left = 458.0
offset_top = 31.0
offset_right = 657.0
offset_bottom = 198.0
theme_override_constants/separation = 37

[node name="PlaySolo" type="Button" parent="UI/MenuItems"]
layout_mode = 2
text = "Play Solo"

[node name="PlayMPLocal" type="Button" parent="UI/MenuItems"]
layout_mode = 2
text = "Play Multiplayer (Local)"

[node name="PlayMPOnline" type="Button" parent="UI/MenuItems"]
layout_mode = 2
text = "Play Multiplayer (Online)"

[node name="OnlinePopUp" type="PopupPanel" parent="UI/MenuItems"]
mode = 1
position = Vector2i(435, 224)
size = Vector2i(245, 352)
visible = true
max_size = Vector2i(31248, 32768)

[node name="VOnlineContainer" type="VBoxContainer" parent="UI/MenuItems/OnlinePopUp"]
offset_left = 2.0
offset_top = 2.0
offset_right = 243.0
offset_bottom = 350.0
theme_override_constants/separation = 17

[node name="OnlineLabel" type="Label" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer"]
layout_mode = 2
text = "Online"
horizontal_alignment = 1

[node name="FindGames" type="Button" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer"]
layout_mode = 2
text = "Find Games"

[node name="CreateGame" type="Button" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer"]
layout_mode = 2
text = "Create Game"

[node name="DirectNet" type="VBoxContainer" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer"]
layout_mode = 2
theme = SubResource("Theme_mb2x8")
theme_override_constants/separation = 24

[node name="Direct" type="Label" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet"]
layout_mode = 2
text = "___________________________________
Direct Connection"
horizontal_alignment = 1

[node name="Host" type="Button" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet"]
layout_mode = 2
text = "Host"

[node name="Options" type="HBoxContainer" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet"]
layout_mode = 2
alignment = 1

[node name="Remote" type="LineEdit" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/Options"]
layout_mode = 2
text = "127.0.0.1"
max_length = 15
expand_to_text_length = true

[node name="Connect" type="Button" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/Options"]
layout_mode = 2
text = "Connect"

[node name="PlayerInfo" type="HBoxContainer" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet"]
layout_mode = 2
alignment = 1

[node name="Label" type="Label" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/PlayerInfo"]
layout_mode = 2
text = "0 / 0 Players connected"

[node name="Start" type="Button" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/PlayerInfo"]
layout_mode = 2
text = "Start"

[node name="SoundButton" type="Button" parent="UI"]
layout_mode = 0
offset_left = 8.0
offset_top = 546.0
offset_right = 49.0
offset_bottom = 587.0
theme_override_constants/outline_size = 6
theme_override_constants/icon_max_width = 101
theme_override_styles/normal = SubResource("StyleBoxFlat_q34b0")
icon = ExtResource("4_ueemu")
expand_icon = true

[node name="SoundPopUp" type="PopupPanel" parent="UI"]
transparent_bg = true
position = Vector2i(15, 347)
size = Vector2i(25, 200)
transparent = true
mouse_passthrough = true
theme_override_styles/panel = SubResource("StyleBoxFlat_av2cg")

[node name="VSlider" type="VSlider" parent="UI/SoundPopUp"]
offset_left = 1.0
offset_top = 1.0
offset_right = 24.0
offset_bottom = 199.0
max_value = 1.0
step = 0.001
value = 1.0
scrollable = false

[node name="FadeRect" type="ColorRect" parent="UI"]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0)

[node name="FadeAnim" type="AnimationPlayer" parent="UI/FadeRect"]
libraries = {
"": SubResource("AnimationLibrary_hieni")
}

[node name="GameContainer" type="Node" parent="."]

[connection signal="pressed" from="UI/MenuItems/PlayMPLocal" to="." method="_on_play_mp_local_pressed"]
[connection signal="pressed" from="UI/MenuItems/PlayMPOnline" to="." method="_on_play_mp_online_pressed"]
[connection signal="pressed" from="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/Host" to="." method="_on_host_pressed"]
[connection signal="pressed" from="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/Options/Connect" to="." method="_on_connect_pressed"]
[connection signal="pressed" from="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/PlayerInfo/Start" to="." method="_on_start_pressed"]
[connection signal="pressed" from="UI/SoundButton" to="." method="_on_sound_button_pressed"]
[connection signal="value_changed" from="UI/SoundPopUp/VSlider" to="." method="_on_v_slider_value_changed"]
