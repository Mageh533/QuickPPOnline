[gd_scene load_steps=23 format=3 uid="uid://cb5vpkwc2mhn3"]

[ext_resource type="Script" path="res://Scripts/Menu/MainMenu.gd" id="1_bnywg"]
[ext_resource type="Texture2D" uid="uid://bria0ksci2p0a" path="res://Assets/Sprites/bg/bg01.png" id="1_kgxbb"]
[ext_resource type="PackedScene" uid="uid://caeh4snxqjfaa" path="res://Scenes/Game/SoloGame.tscn" id="2_c1prm"]
[ext_resource type="PackedScene" uid="uid://5rjlbqosjvt2" path="res://Scenes/Game/MainGame.tscn" id="2_fythm"]
[ext_resource type="Texture2D" uid="uid://brfhuohmm8tia" path="res://Assets/Sprites/volume-icon.svg" id="4_ueemu"]
[ext_resource type="Texture2D" uid="uid://f8u4j5dgknsr" path="res://Assets/Sprites/settings.svg" id="6_yc3yo"]
[ext_resource type="Script" path="res://Scripts/Menu/SettingsMenu.gd" id="7_wysld"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qebv7"]
bg_color = Color(0.290196, 0.447059, 0.823529, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_0b83h"]
bg_color = Color(0.14902, 0.627451, 0.972549, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
shadow_size = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_d4hmw"]
bg_color = Color(0.317647, 0.513726, 0.470588, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ks2fx"]
bg_color = Color(0, 0.713726, 0.996078, 1)
border_width_left = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(1, 1, 1, 1)
corner_detail = 15
shadow_color = Color(0, 0, 0, 0.160784)
shadow_size = 1
shadow_offset = Vector2(0, 2)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_baad8"]
bg_color = Color(0.509804, 0.552941, 0.980392, 1)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0.145098, 0.145098, 0.145098, 0.827451)
shadow_size = 7

[sub_resource type="Theme" id="Theme_wdnyx"]
Button/colors/font_color = Color(1, 1, 1, 1)
Button/styles/disabled = null
Button/styles/focus = null
Button/styles/hover = SubResource("StyleBoxFlat_qebv7")
Button/styles/normal = SubResource("StyleBoxFlat_0b83h")
Button/styles/pressed = SubResource("StyleBoxFlat_d4hmw")
MarginContainer/constants/margin_bottom = 0
MarginContainer/constants/margin_left = 0
MarginContainer/constants/margin_right = 0
MarginContainer/constants/margin_top = 0
Panel/styles/panel = SubResource("StyleBoxFlat_ks2fx")
PopupPanel/styles/panel = SubResource("StyleBoxFlat_baad8")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_rwkxl"]
bg_color = Color(0, 0.713726, 0.996078, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(1, 1, 1, 1)
corner_detail = 15
shadow_color = Color(0, 0, 0, 0.160784)
shadow_size = 1
shadow_offset = Vector2(0, 2)

[sub_resource type="Theme" id="Theme_mb2x8"]
MarginContainer/constants/margin_bottom = 0
MarginContainer/constants/margin_left = 0
MarginContainer/constants/margin_right = 0
MarginContainer/constants/margin_top = 0
Panel/styles/panel = SubResource("StyleBoxFlat_rwkxl")

[sub_resource type="Animation" id="Animation_qfptl"]
resource_name = "fadeIn"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="Animation" id="Animation_8k6p7"]
resource_name = "fadeOut"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 1), Color(0, 0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_hieni"]
_data = {
"fadeIn": SubResource("Animation_qfptl"),
"fadeOut": SubResource("Animation_8k6p7")
}

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_q34b0"]
bg_color = Color(1, 1, 1, 0.443137)
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_av2cg"]
bg_color = Color(0.203922, 0.203922, 0.203922, 1)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
corner_radius_top_left = 20
corner_radius_top_right = 20
corner_radius_bottom_right = 20
corner_radius_bottom_left = 20
corner_detail = 20

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_4qm0l"]
draw_center = false
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(0, 0, 0, 0.619608)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_r2oke"]
bg_color = Color(0.507813, 0.550781, 0.976563, 1)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0, 0, 0, 1)

[node name="MainMenu" type="Node"]
script = ExtResource("1_bnywg")
SoloGame = ExtResource("2_c1prm")
MainGame = ExtResource("2_fythm")

[node name="UI" type="Control" parent="."]
process_mode = 3
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = SubResource("Theme_wdnyx")

[node name="Background" type="TextureRect" parent="UI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_kgxbb")
expand_mode = 1

[node name="MenuItems" type="VBoxContainer" parent="UI"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -99.5
offset_top = -224.0
offset_right = 99.5
offset_bottom = -57.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/separation = 37

[node name="PlaySolo" type="Button" parent="UI/MenuItems"]
layout_mode = 2
text = "Play Solo"

[node name="PlayMPLocal" type="Button" parent="UI/MenuItems"]
layout_mode = 2
text = "Play Multiplayer (Local)"

[node name="PlayMPOnline" type="Button" parent="UI/MenuItems"]
layout_mode = 2
text = "Play Multiplayer (Online)"

[node name="OnlinePopUp" type="PopupPanel" parent="UI/MenuItems"]
mode = 1
position = Vector2i(455, 212)
size = Vector2i(245, 217)
max_size = Vector2i(31248, 32768)

[node name="VOnlineContainer" type="VBoxContainer" parent="UI/MenuItems/OnlinePopUp"]
offset_left = 2.0
offset_top = 2.0
offset_right = 243.0
offset_bottom = 215.0
theme_override_constants/separation = 17

[node name="DirectNet" type="VBoxContainer" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer"]
layout_mode = 2
theme = SubResource("Theme_mb2x8")
theme_override_constants/separation = 24

[node name="Direct" type="Label" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet"]
layout_mode = 2
text = "Online"
horizontal_alignment = 1

[node name="Host" type="Button" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet"]
layout_mode = 2
text = "Host"

[node name="Options" type="HBoxContainer" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet"]
layout_mode = 2
alignment = 1

[node name="Remote" type="LineEdit" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/Options"]
layout_mode = 2
text = "127.0.0.1"
max_length = 15
expand_to_text_length = true

[node name="Connect" type="Button" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/Options"]
layout_mode = 2
text = "Connect"

[node name="PlayerInfo" type="HBoxContainer" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet"]
layout_mode = 2
alignment = 1

[node name="Label" type="Label" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/PlayerInfo"]
layout_mode = 2
text = "0 / 0 Players connected"

[node name="Start" type="Button" parent="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/PlayerInfo"]
layout_mode = 2
text = "Start"

[node name="OnlineWarning" type="Label" parent="UI"]
visible = false
layout_mode = 0
offset_left = 364.0
offset_top = 267.0
offset_right = 776.0
offset_bottom = 319.0
theme_override_colors/font_color = Color(1, 0, 0, 1)
text = "Online multiplayer currently does not work on html5. 
Support coming soon!"
horizontal_alignment = 1

[node name="GameContainer" type="Node" parent="."]

[node name="PermaUI" type="Control" parent="."]
layout_mode = 3
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -138.0
grow_horizontal = 2
grow_vertical = 0

[node name="FadeRect" type="ColorRect" parent="PermaUI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -510.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="FadeAnim" type="AnimationPlayer" parent="PermaUI/FadeRect"]
libraries = {
"": SubResource("AnimationLibrary_hieni")
}

[node name="SoundButton" type="Button" parent="PermaUI"]
layout_mode = 0
offset_left = 8.0
offset_top = 33.0
offset_right = 49.0
offset_bottom = 74.0
theme_override_constants/outline_size = 6
theme_override_constants/icon_max_width = 101
theme_override_styles/normal = SubResource("StyleBoxFlat_q34b0")
icon = ExtResource("4_ueemu")
expand_icon = true

[node name="SoundPopUp" type="PopupPanel" parent="PermaUI"]
transparent_bg = true
position = Vector2i(15, 347)
size = Vector2i(25, 200)
transparent = true
mouse_passthrough = true
theme_override_styles/panel = SubResource("StyleBoxFlat_av2cg")

[node name="VSlider" type="VSlider" parent="PermaUI/SoundPopUp"]
offset_left = 1.0
offset_top = 1.0
offset_right = 24.0
offset_bottom = 199.0
max_value = 1.0
step = 0.001
value = 1.0
scrollable = false

[node name="SettingsButton" type="Button" parent="PermaUI"]
layout_mode = 0
offset_left = 1099.0
offset_top = 43.0
offset_right = 1144.0
offset_bottom = 88.0
theme_override_styles/normal = SubResource("StyleBoxFlat_4qm0l")
icon = ExtResource("6_yc3yo")
expand_icon = true

[node name="SettingsPopUp" type="PopupPanel" parent="PermaUI"]
position = Vector2i(470, 288)
size = Vector2i(671, 271)
theme_override_styles/panel = SubResource("StyleBoxFlat_r2oke")
script = ExtResource("7_wysld")

[node name="VerticalContainer" type="VBoxContainer" parent="PermaUI/SettingsPopUp"]
offset_left = 2.0
offset_top = 2.0
offset_right = 669.0
offset_bottom = 269.0

[node name="P1CLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer"]
layout_mode = 2
text = "Player 1 Controls (Online and Local)"
horizontal_alignment = 1

[node name="P1Controls1" type="HBoxContainer" parent="PermaUI/SettingsPopUp/VerticalContainer"]
layout_mode = 2
theme_override_constants/separation = 16
alignment = 1

[node name="LeftLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls1"]
layout_mode = 2
text = "Move Left:"

[node name="LeftButton" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls1"]
layout_mode = 2
text = "LEFT ARROW"

[node name="RightLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls1"]
layout_mode = 2
text = "Move Right:"

[node name="RightButton" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls1"]
layout_mode = 2
text = "LEFT ARROW"

[node name="FastLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls1"]
layout_mode = 2
text = "Fast Drop:"

[node name="FastButton" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls1"]
layout_mode = 2
text = "LEFT ARROW"

[node name="P1Controls2" type="HBoxContainer" parent="PermaUI/SettingsPopUp/VerticalContainer"]
layout_mode = 2
theme_override_constants/separation = 16
alignment = 1

[node name="LeftTurnLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls2"]
layout_mode = 2
text = "Turn Left:"

[node name="LeftTurnButton" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls2"]
layout_mode = 2
text = "LEFT ARROW"

[node name="RightTurnLAbel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls2"]
layout_mode = 2
text = "Turn Right:"

[node name="RightButton2" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P1Controls2"]
layout_mode = 2
text = "LEFT ARROW"

[node name="P2CLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer"]
layout_mode = 2
text = "_________________________________________________________________________________________________
Player 2 Controls (Local)"
horizontal_alignment = 1

[node name="P2Controls1" type="HBoxContainer" parent="PermaUI/SettingsPopUp/VerticalContainer"]
layout_mode = 2
theme_override_constants/separation = 16
alignment = 1

[node name="LeftLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls1"]
layout_mode = 2
text = "Move Left:"

[node name="LeftButton" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls1"]
layout_mode = 2
text = "LEFT ARROW"

[node name="RightLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls1"]
layout_mode = 2
text = "Move Right:"

[node name="RightButton" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls1"]
layout_mode = 2
text = "LEFT ARROW"

[node name="FastLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls1"]
layout_mode = 2
text = "Fast Drop:"

[node name="FastButton" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls1"]
layout_mode = 2
text = "LEFT ARROW"

[node name="P2Controls2" type="HBoxContainer" parent="PermaUI/SettingsPopUp/VerticalContainer"]
layout_mode = 2
theme_override_constants/separation = 16
alignment = 1

[node name="LeftTurnLabel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls2"]
layout_mode = 2
text = "Turn Left:"

[node name="LeftTurnButton" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls2"]
layout_mode = 2
text = "LEFT ARROW"

[node name="RightTurnLAbel" type="Label" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls2"]
layout_mode = 2
text = "Turn Right:"

[node name="RightButton2" type="Button" parent="PermaUI/SettingsPopUp/VerticalContainer/P2Controls2"]
layout_mode = 2
text = "LEFT ARROW"

[connection signal="pressed" from="UI/MenuItems/PlayMPLocal" to="." method="_on_play_mp_local_pressed"]
[connection signal="mouse_entered" from="UI/MenuItems/PlayMPOnline" to="." method="_on_play_mp_online_mouse_entered"]
[connection signal="mouse_exited" from="UI/MenuItems/PlayMPOnline" to="." method="_on_play_mp_online_mouse_exited"]
[connection signal="pressed" from="UI/MenuItems/PlayMPOnline" to="." method="_on_play_mp_online_pressed"]
[connection signal="pressed" from="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/Host" to="." method="_on_host_pressed"]
[connection signal="pressed" from="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/Options/Connect" to="." method="_on_connect_pressed"]
[connection signal="pressed" from="UI/MenuItems/OnlinePopUp/VOnlineContainer/DirectNet/PlayerInfo/Start" to="." method="_on_start_pressed"]
[connection signal="pressed" from="PermaUI/SoundButton" to="." method="_on_sound_button_pressed"]
[connection signal="value_changed" from="PermaUI/SoundPopUp/VSlider" to="." method="_on_v_slider_value_changed"]
[connection signal="pressed" from="PermaUI/SettingsButton" to="." method="_on_settings_button_pressed"]
